(function(t){function e(e){for(var n,i,o=e[0],c=e[1],r=e[2],x=0,u=[];x<o.length;x++)i=o[x],Object.prototype.hasOwnProperty.call(m,i)&&m[i]&&u.push(m[i][0]),m[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(u.length)u.shift()();return a.push.apply(a,r||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==m[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},m={app:0},a=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var r=0;r<o.length;r++)e(o[r]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0f32":function(t,e,s){},"3bac":function(t,e,s){"use strict";var n=s("0f32"),m=s.n(n);m.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{padding:"5rem 2rem"},attrs:{id:"app"}},[s("wysiwyg-math",{attrs:{id:"questionText",placeholder:"Нажмите здесь, чтобы ввести вопрос"}})],1)},a=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"fade"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"popup"},[s("span",{staticClass:"border-right"},t._l(t.fontStyles,(function(e,n){return s("button",{key:n,class:{selected:e.selected},on:{click:function(s){return t.setStyle(e.style,t.pressButton=!0)}}},[s("i",{class:e.icon})])})),0),s("span",{staticClass:"border-right"},[s("button",{on:{click:function(e){return t.setStyle("justifyLeft")}}},[s("i",{staticClass:"fas fa-align-left"})]),s("button",{on:{click:function(e){return t.setStyle("justifyCenter")}}},[s("i",{staticClass:"fas fa-align-center"})]),s("button",{on:{click:function(e){return t.setStyle("justifyRight")}}},[s("i",{staticClass:"fas fa-align-right"})]),s("button",{on:{click:function(e){return t.setStyle("justifyFull")}}},[s("i",{staticClass:"fas fa-align-justify"})])]),s("span",{staticClass:"border-right"},[s("button",{on:{click:function(e){return t.setStyle("insertUnorderedList")}}},[s("i",{staticClass:"fas fa-list-ul"})]),s("button",{on:{click:function(e){return t.setStyle("insertOrderedList")}}},[s("i",{staticClass:"fas fa-list-ol"})])]),s("span",{staticClass:"border-right"},[s("button",{on:{click:function(e){return t.setStyle("formatBlock",!1,"h4")}}},[s("i",{staticClass:"fas fa-heading"})])]),s("span",{staticClass:"border-right"},[s("button",{on:{click:t.decreaseFont}},[t._v("smaller")]),s("button",{on:{click:t.increaseFont}},[t._v("bigger")])]),s("span",{staticClass:"border-right"},[s("button",{staticClass:"btn-md",on:{click:t.createFormula}},[t._v(" math ")])]),s("span",{},[s("button",{on:{click:function(e){return t.setStyle("undo")}}},[s("i",{staticClass:"fas fa-undo-alt"})])])])]),s("div",{ref:"textarea",staticClass:"form-control editor",style:"height: calc(1.5em * "+t.rows+" + .75rem + 2px); display: inline-block",attrs:{id:t.id,placeholder:t.placeholder,contenteditable:""},on:{focusin:function(e){t.showPopup=!0},focusout:t.hideSelf,input:t.onInput,change:t.onInput,click:t.updateCursorPos,keydown:t.updateCursorPos}}),s("div",[t._v(" dataRaw "),s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data,expression:"data"}],attrs:{cols:"100",rows:"10"},domProps:{value:t.data},on:{input:function(e){e.target.composing||(t.data=e.target.value)}}})])]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.isInEditMode?"Редактировать Формулу":"Вставить Формулу"))]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){t.showModal=!1}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formula,expression:"formula"}],staticStyle:{width:"100%"},domProps:{value:t.formula},on:{input:[function(e){e.target.composing||(t.formula=e.target.value)},t.renderFormula]}}),s("div",{staticStyle:{"font-weight":"bolder",margin:".8rem 0 .4rem"}},[t._v("Результат:")]),s("div",{ref:"formulaPreview",staticStyle:{margin:".5rem 0"}})]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){t.showModal=!1}}},[t._v("Отмена")]),t.isInEditMode?s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveFormula}},[t._v("Сохранить ")]):s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addFormula}},[t._v("Добавить в конец ")])])])])])])])],1)},o=[],c=(s("7db0"),s("4160"),s("caad"),s("c975"),s("d81d"),s("b0c0"),s("a9e3"),s("d3b7"),s("25f0"),s("159b"),{name:"wysiwygMath",props:{id:String,placeholder:String,rows:{type:Number,default:5}},data:function(){return{html:'qweqweqweqweqwe<span contenteditable="false" class="math"><mjx-container class="MathJax" jax="CHTML" role="presentation" style="font-size: 113.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-texatom space="4" texclass="ORD"><mjx-mfrac><mjx-frac><mjx-num><mjx-nstrut></mjx-nstrut><mjx-mrow size="s"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-cB1"></mjx-c></mjx-mo><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.087em;"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.289em;"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c34"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-msqrt></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line></mjx-line><mjx-row><mjx-den><mjx-dstrut></mjx-dstrut><mjx-mrow size="s"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi></mjx-mrow></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac></mjx-texatom></mjx-math><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><mjx-container class="MathJax" jax="CHTML" role="presentation" style="font-size: 113.1%; position: relative;"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mrow space="4"><mjx-mfrac><mjx-frac><mjx-num><mjx-nstrut></mjx-nstrut><mjx-mrow size="s"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-cB1"></mjx-c></mjx-mo><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.087em;"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.289em;"><mjx-mn class="mjx-n" size="s"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c34"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-msqrt></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line></mjx-line><mjx-row><mjx-den><mjx-dstrut></mjx-dstrut><mjx-mrow size="s"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi></mjx-mrow></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac></mjx-mrow></mjx-math><mjx-assistive-mml role="presentation" unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mrow><mfrac><mrow><mo>−</mo><mi>b</mi><mo>±</mo><msqrt><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></mrow></math></mjx-assistive-mml></mjx-container></mjx-assistive-mml></mjx-container></span><br>',showPopup:!1,hideTimeout:null,formula:"\\(x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}\\)",data:"",cursorPos:0,fontStyles:[{tag:"b",icon:"fas fa-bold",style:"bold",selected:!1},{tag:"i",icon:"fas fa-italic",style:"italic",selected:!1},{tag:"u",icon:"fas fa-underline",style:"underline",selected:!1},{tag:"strike",icon:"fas fa-strikethrough",style:"strikethrough",selected:!1}],fontSizes:[{name:"x-small",value:"1"},{name:"small",value:"2"},{name:"medium",value:"3"},{name:"large",value:"4"},{name:"x-large",value:"5"},{name:"xx-large",value:"6"},{name:"xxx-large",value:"7"}],showModal:!1,isInEditMode:!1}},watch:{cursorPos:function(){this.analyze()}},methods:{preventHide:function(){this.hideTimeout&&clearInterval(this.hideTimeout)},setStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.preventHide(),document.execCommand(t,e,s),n){var m=this.fontStyles.find((function(e){return e.style===t}));m&&(m.selected=!0)}},hideSelf:function(){var t=this;this.hideTimeout=setTimeout((function(){t.showPopup=!1}),200)},createFormula:function(){this.isInEditMode=!1,this.showModal=!0,this.renderFormula()},renderFormula:function(){this.$refs.formulaPreview.innerHTML=this.formula,setTimeout(window.MathJax.typeset,200)},onInput:function(t){this.$emit("input",t.target.innerHTML),this.data=t.target.innerHTML},getCursorPos:function(){var t=document.getSelection().getRangeAt(0),e=t.cloneRange();return e.selectNodeContents(this.$refs.textarea),e.setEnd(t.endContainer,t.endOffset),e.toString().length},updateCursorPos:function(){this.cursorPos=this.getCursorPos()},analyze:function(){var t,e=window.getSelection(),s=[];if(e.rangeCount){t=e.getRangeAt(0).commonAncestorContainer;while(1){if(t=t.parentNode,null==t)break;var n=t.nodeName.toLowerCase();if(t===this.$refs.textarea)break;s.push(n)}}this.fontStyles.forEach((function(t){return t.selected=s.includes(t.tag)}))},increaseFont:function(){this.preventHide();var t=window.getSelection().getRangeAt(0).commonAncestorContainer.parentElement;if(t!==this.$refs.textarea){if(""!==t.style.fontSize){var e=this.fontSizes.map((function(t){return t.name})).indexOf(t.style.fontSize);e<this.fontSizes.length-1&&(document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,this.fontSizes[e+1].value),document.execCommand("styleWithCSS",!1,!1))}}else document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,this.fontSizes[3].value),document.execCommand("styleWithCSS",!1,!1)},decreaseFont:function(){this.preventHide();var t=window.getSelection().getRangeAt(0).commonAncestorContainer.parentElement;if(t!==this.$refs.textarea){if(""!==t.style.fontSize){var e=this.fontSizes.map((function(t){return t.name})).indexOf(t.style.fontSize);e>0&&(document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,this.fontSizes[e-1].value),document.execCommand("styleWithCSS",!1,!1))}}else document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,this.fontSizes[1].value),document.execCommand("styleWithCSS",!1,!1)},addFormula:function(){var t='<span contenteditable="false" class="math">'+this.$refs.formulaPreview.innerHTML+"</span><br>",e=this.$refs.textarea.innerHTML;this.$refs.textarea.innerHTML=e.substring(0,e.length-4)+t+"<br>",this.data+=t,setTimeout(window.MathJax.typeset,200),this.showModal=!1,this.formula=""},saveFormula:function(){},deleteFormula:function(){}},beforeCreate:function(){var t=document.createElement("script");t.setAttribute("src","https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"),document.head.appendChild(t)},beforeMount:function(){window.MathJax={options:{enableMenu:!1}}}}),r=c,l=(s("3bac"),s("2877")),x=Object(l["a"])(r,i,o,!1,null,null,null),u=x.exports,j={name:"App",components:{wysiwygMath:u}},d=j,f=Object(l["a"])(d,m,a,!1,null,null,null),p=f.exports,h=window.MathJax;n["a"].prototype.$mathjax=h,n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(p)}}).$mount("#app")}});
//# sourceMappingURL=app.dd2ac544.js.map